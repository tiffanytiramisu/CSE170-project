<html>
<head>
	<script
	  src="https://code.jquery.com/jquery-3.1.1.min.js"
	  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
	  crossorigin="anonymous"></script>
	<script src="semantic/dist/semantic.min.js"></script>
	<link rel="stylesheet" type="text/css" href="semantic/dist/semantic.min.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
  <body>
	<div class="ui menu">
	  <a class="item" href=/>
	    Home
	  </a>
	  <div class="ui pointing dropdown link item">
	    <span class="text" id="username">Guest</span>
	    <i class="dropdown icon"></i>
	    <div class="menu">
	      <div class="item">
	        <i class="dropdown icon"></i>
	        <span class="text">Quick Link</span>
	        <div class="menu">
	          <div class="header">Study List</div>
	          <a href=SATlist><div class="item">SAT</div></a>
	          <div class="item">GRE</div>
	          <div class="item">IELTS</div>
	          <div class="item">TOEFL</div>
	          <div class="divider"></div>
	          <div class="header">Star List</div>
	        </div>
	      </div>
	      <div class="item">Log out</div>
	    </div>
	  </div>
	  <a class="item" href=tutorial>
	    HELP
	  </a>
	  <a class="item" href=reminder>
	    Study Reminder
	  </a>
	</div>

	<div class="ui modal" id=0>
	  <div class="header">
	    Study Session Complete
	  </div>
	  <div class="image content">
	    <div class="description">
	    <p>You just complete your study session, your score is 
	    	<h3 id='score'></h3>
	    </p>     
	    </div>
	  </div>
	  <div class="actions">
	  	<a href=Study>
	    	<div class="ui black deny button">
	    	  return to study menu
	    	</div>
		</a>
		<a href=SATlist>
	    	<div class="ui positive right labeled icon button">
	    	  review list
	    	  <i class="checkmark icon"></i>
	    	</div>
	    </a>
	    <br />
	  </div>
	</div>

	{{#each SATvocabs}}
	<div class="ui modal" id={{id}}>
	  <div class="header">
	    questions {{id}}:
	  </div>
	  <div class="image content">
	    <div class="description">
	    	<p>Choose the correct definition of the word: <h3>{{word}}</h3></p>
			<div class="ui form">
			  <div class="grouped fields">
			  	<label>Select your answer:</label>
			  </div>
			</div>
	    </div>
	  </div>
	  <div class="actions" id="shuffle">
			<div class="ui fluid black deny button" id="correct" style="width:200px">
  				{{definition}}
			</div>
			<div class="ui fluid black deny button" id="incorrect1-{{id}}"" style="width:200px">
  				Orange
			</div>
			<div class="ui fluid black deny button" id="incorrect2-{{id}}" style="width:200px">
  				Beautiful
			</div>
			<div class="ui fluid black deny button" id="incorrect3-{{id}}" style="width:200px">
  				Sad
			</div>
	    <!-- <div class="ui positive right labeled icon button" id="nextButton">
	      Skip
	      <i class="checkmark icon"></i> -->
	    </div>
	  </div>
	</div>
	{{/each}}




	<script type="text/javascript">
		//shuffle algorithm
		$.fn.shuffleChildren = function() {
		    $.each(this.get(), function(index, el) {
		        var $el = $(el);
		        var $find = $el.children();

		        $find.sort(function() {
		            return 0.5 - Math.random();
		        });

		        $el.empty();
		        $find.appendTo($el);
		    });
		};

		$('.modal>#shuffle').shuffleChildren();
		//drop down animation in menu
		$('.ui.pointing.dropdown.link.item').dropdown();
		//animation for quiz slides
		$('.ui.modal').modal('setting', 'closable', false).modal('show');
		//parse JSON
		var jasonobj;
		$.get("https://a7-vocabuddy.herokuapp.com/lists/SAT", function(result){
			console.log(result["ListData"][0]);
			jasonobj = result["WrongVocabs"];
			//rendering worng options
			var wrongsize = result["ListData"][1]["wrongsize"];
			var listsize = result["ListData"][0]["size"];
			console.log(wrongsize);
			console.log(listsize);
			for(var j=1; j<=listsize; j++){
				for (var k=1; k<=3; k++){
					$('.black.deny.button#incorrect'+k+"-"+j)
					.html(result["WrongVocabs"][Math.floor(Math.random()*10%wrongsize)]["word"]);
				}
			}
		});
		var counter = 0;
		var i = 0;

		//counter action when clicked on correct answer
		for(i=1; i<=20; i++){
			$('#'+i+' #correct.button').click(function(){
				counter = counter+1;
				$('#score').html(counter+"/20");
				alert("CORRECT!");
				console.log(counter);
			});
			$('#'+i+' '+'[id^=incorrect]'+'.button').click(function(){
				alert("EMMM...INCORRECT");
				$('#score').html(counter+"/20");
			});
		}

	</script>
  </body>
</html>